/**
 * @name menu
 * @author JungHyunKwon
 * @since 2018-02-23
 * @param {object} option({event : string, cut : object(number : number), namespace : string})
 * @return {jQueryElement || jQueryObject}
 */
try{if("function"!=typeof window.jQuery)throw"제이쿼리가 없습니다.";!function(e){var t=e(document),a=[],i="_",n={active:"active",state:"state",has:"has",solo:"solo",rule:"rule",open:"open",prev:"prev",next:"next",cut:"cut",initialized:"menu_initialized"};function s(e){var t="none";if(arguments.length)if(t=Object.prototype.toString.call(e).toLowerCase().replace("[object ","").replace("]",""),void 0===e)t="undefined";else if("number"===t&&isNaN(e))t="NaN";else if("number"!==t||isFinite(e))if(e===window)t="window";else if(e===document)t="document";else if(e.tagName)t="element";else if("function"==typeof window.jQuery&&e instanceof window.jQuery){var a=e.length,i=0;for(t=[];i<a;i++){var n=e[i],o=s(n);"window"!==o&&"document"!==o&&"element"!==o||t.push(n)}var l=t.length;t=l&&a===l?"jQueryElement":"jQueryObject"}else"date"===t&&isNaN(new Date(e))?t="Invalid Date":"function"===t&&/^class\s/.test(e.toString())&&(t="class");else t=e.toString();return t}if(n.activePrev=n.active+i+n.prev,n.activeNext=n.active+i+n.next,n.actived=n.active+"d",n.activedPrev=n.actived+i+n.prev,n.activedNext=n.actived+i+n.next,!window.console instanceof Object){window.console={method:["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],comment:[]};for(var o=0,l=window.console.method.length;o<l;o++)"function"!=typeof window.console[window.console.method[o]]&&(window.console[window.console.method[o]]=function(){var e=[],t=arguments.length;if(t>1)for(var a=0;a<t;a++)e.push(arguments[a]);else 1===t&&(e=arguments[0]);return t&&this.comment.push(e),e})}e(function(){var o=e("body");function l(e){var t=s(e),a=!1;return"window"!==t&&"document"!==t&&"element"!==t&&"jQueryElement"!==t||(a=!0),a}function d(t,a){for(var i=e(t),n="string"==typeof a?a.length:0,s=[],o=0,l=i.length;o<l;o++){var d=i.eq(o),r=d.attr("class");if(r)for(var c=0,p=(r=r.split(/\s/)).length;c<p;c++){var u=r[c];u.substring(0,n)===a&&(d.removeClass(u),s.push(u))}}return 1===s.length?s=s[0]:s.length||(s=i),s}e.fn.menu=function(r){var c,p=this.first(),u=p[0],v=u.style,m=s(r),h=function(t){for(var i=e(t),n=[],o=a.length,l=0,d=i.length;l<d;l++){var r=i.eq(l),c=!1,p=0;for(o=a.length;p<o;p++){var u=a[p];if("object"===s(u)&&r.is(u.element)){n.push(p),c=!0;break}}c||n.push(-1)}return 1===n.length&&(n=n[0]),n}(u),f=a[h],g=e.Event("menu");if("string"===m){if(r=r.toLowerCase(),f){var $=f.option;if("destroy"===r){var y=$.namespace;$.$depthCutItem.remove(),p.removeClass(n.initialized),d($.$depthItem,n.rule),o.removeClass($.className.globalActive+" "+$.className.globalOpen),d(p,n.state),$.$depthItem.removeClass(n.has+" "+n.solo+" "+n.activePrev+" "+n.active+" "+n.activeNext+" "+n.activedPrev+" "+n.actived+" "+n.activedNext),v.height="",t.off("keydown."+y),$.$openElement.off("click."+y+" focusin."+y),$.$closeElement.off("click."+y+" focusout."+y),$.$depth1.off("mouseover."+y+" mouseleave."+y),$.$depthText.off("focusin."+y+" focusout."+y+" click."+y),$.$depthAndText.off("mouseover."+y),$.$depthTitle2.off("mouseout."+y),a.splice(h,1)}else if("spy"===r){var x=arguments[1];l(x)||(x=$.$activedDepthText[0]),x=e(x).first()[0],$.$depthText.is(x)&&$.openMenu.call(x,g)}}}else if(l(u)){f&&p.menu("destroy"),"object"!==m&&(r={}),r.namespace="string"==typeof(c=r.namespace)?c.replace(/\s/g,""):c,"string"==typeof r.namespace&&""!==r.namespace||(r.namespace=p.attr("id")||(p.attr("class")||"").split(/\s/)[0]||u.tagName.toLowercase()+(a.length+1)),"object"!==s(r.cut)&&(r.cut={}),"string"==typeof r.event&&(r.event=r.event.toLowerCase()),"mouse"!==r.event&&"click"!==r.event&&(r.event="click"),r.$openElement=e('div[data-menu-open="'+r.namespace+'"] [data-menu-button]'),r.$closeElement=e('div[data-menu-close="'+r.namespace+'"] [data-menu-button]'),r.interval=250,r.className={globalActive:r.namespace+i+n.active,globalOpen:r.namespace+i+n.open},r.type=parseInt(p.attr("data-menu-type"),10)||1,r.thisFirstData=p.data(),r.$depth=p.find("div[data-menu-depth]"),r.$depth1=r.$depth.filter('div[data-menu-depth="1"]'),r.$depth1Text=r.$depth1.find('a[data-menu-text="1"], button[data-menu-text="1"]'),r.$depthTitle1=r.$depth1.find('div[data-menu-title="1"]'),r.$depthTitle2=r.$depth1.find('div[data-menu-title="2"]'),r.$depth2=r.$depth.filter('[data-menu-depth="2"]'),r.$depthList=r.$depth.find("ul[data-menu-list]"),r.$depthItem=r.$depthList.children("li"),r.$depthText=r.$depth1.find("a[data-menu-text], button[data-menu-text]"),r.$depthLastText=r.$depthText.last(),r.$depthAndText=r.$depth.not('div[data-menu-depth="1"]').add(r.$depthText),r.$activedDepthText=r.$depth1.find("a[data-menu-text][data-menu-actived], button[data-menu-text][data-menu-actived]").last(),r.$activedDepthItem=r.$activedDepthText.parents("li"),v.transitionProperty="none",r.thisFirstData.menuHeight=u.clientHeight,v.transitionProperty="",r.$activedDepthItem.prev("li").addClass(n.activedPrev),r.$activedDepthItem.addClass(n.actived),r.$activedDepthItem.next("li").addClass(n.activedNext),p.addClass(n.initialized);for(var C in r.cut){var b=r.cut[C];"number"===s(C=parseInt(C,10))&&"number"===s(b)&&b>1&&p.find('div[data-menu-depth="'+C+'"]:first-of-type ul[data-menu-list]:first > li:nth-child('+b+"n)").next("li").prev("li").after('<li class="'+n.cut+'">&nbsp;</li>')}r.$depthCutItem=r.$depthList.children("li."+n.cut);C=0;for(var w=r.$depthList.length;C<w;C++)for(var T=r.$depthList.eq(C).children("li"),N=0,I=T.length;N<I;N++){var k=T.eq(N);k.addClass(n.rule+(N+1)),k.find("div[data-menu-depth]:first").length?k.addClass(n.has):k.addClass(n.solo)}r.addStateClass=function(t){var a=e(t).parents("li");d(p,n.state);for(var i=0,s=a.length;i<s;i++)p.addClass(n.state+(r.$depthItem.index(a[i])+1))},r.setSpy=function(e){r.$activedDepthText.length?p.menu("spy"):r.closeMenu.call(e,g)},r.openMenu=function(t){var a=e(this).parents("li"),i=a.first(),s=a.last(),l=s.find('div[data-menu-depth="2"]'),d=a.prev("li"),c=a.next("li");if(r.$depthCutItem.is(d)&&(d=d.prev("li")),r.$depthCutItem.is(c)&&(c=c.next("li")),"mouse"===r.event&&"focusin"!==t.type)r.closeMenu.call(this,t);else if("click"===r.event){var p=a.find("[data-menu-text]:first").filter("a, button").closest("li"),u=p.siblings("li");p.add(u).removeClass(n.activePrev+" "+n.active+" "+n.activeNext)}if(o.addClass(r.className.globalActive),d.addClass(n.activePrev),a.addClass(n.active),c.addClass(n.activeNext),r.addStateClass(s.add(s.find("div[data-menu-depth]:first-of-type ul[data-menu-list]:first > li")).filter("."+n.active).last().find("[data-menu-text]:first").filter("a, button")[0]),1===r.type||2===r.type){var m=i.find("div[data-menu-depth]:first");function h(){var t="";if(1===r.type){t=[];for(var a=0,i=r.$depth2.length;a<i;a++)t[a]=r.$depth2.eq(a).children().filter(function(t,a){var i=e(a).css("position");return"static"===i||"relative"===i}).first().outerHeight()||0;t=Math.max.apply(null,t)||""}else 2===r.type&&(t=l.children().filter(function(t,a){var i=e(a).css("position");return"static"===i||"relative"===i}).first().outerHeight()||"");t&&(t+=r.thisFirstData.menuHeight||0),v.height=t+"px"}h(),m.length&&m.one("transitionend."+r.namespace,function(t){v.height&&e(this).closest("li").hasClass(n.active)&&h()})}t.stopPropagation()},r.closeMenu=function(t){var a=e(this);if("mouse"===r.event)o.removeClass(r.className.globalActive),d(p,n.state),v.height="",r.$depthItem.removeClass(n.activePrev+" "+n.active+" "+n.activeNext);else{var i=this,s=a.parents("li"),l=s.eq(1);if(a.is(r.$depthLastText)){var c=l.prev("li"),u=l.next("li");i=s.eq(2).find("[data-menu-text]:first").filter("a, button")[0],r.$depthCutItem.is(c)&&(c=c.prev("li")),r.$depthCutItem.is(u)&&(u=u.next("li")),c.removeClass(n.activePrev),l.removeClass(n.active),u.removeClass(n.activeNext),r.addStateClass(i)}else{var m=s.first(),h=m.prev("li"),f=m.next("li");r.$depthCutItem.is(h)&&(h=h.prev("li")),r.$depthCutItem.is(f)&&(f=f.next("li")),h.removeClass(n.activePrev),m.removeClass(n.active),f.removeClass(n.activeNext),r.addStateClass(l.find("[data-menu-text]:first").filter("a, button")[0])}r.$depth1Text.is(i)&&(o.removeClass(r.className.globalActive),1!==r.type&&2!==r.type||(v.height=""))}t.stopPropagation()},"mouse"===r.event?(r.$depthAndText.on("mouseover."+r.namespace,r.openMenu),r.$depth1.on("mouseover."+r.namespace,function(t){o.hasClass(r.className.globalActive)&&(1===r.type&&e(this).is(t.target)||2===r.type&&!r.$depthTitle1.add(r.$depthTitle1.find("*")).is(t.target))&&r.setSpy(this)}).on("mouseleave."+r.namespace,function(e){r.setSpy(this)}),r.$depthTitle2.on("mouseout."+r.namespace,function(e){1===r.type&&r.setSpy(this)})):r.$depthText.on("click."+r.namespace,function(t){var a=e(this),i=a.closest("li"),s=i.find("div[data-menu-depth]:first"),o=this.tagName.toLowerCase(),l=i.hasClass(n.active);("a"===o&&a.attr("href")===s.find("ul[data-menu-list]:first > li:first-child a[data-menu-text]:first").attr("href")||"button"===o)&&l?(r.setSpy(this),t.preventDefault()):s.length&&!l&&(r.openMenu.call(this,t),t.preventDefault())}),r.$openElement.on("click."+r.namespace,function(e){o.toggleClass(r.className.globalOpen),e.preventDefault()}).on("focusin."+r.namespace,function(e){o.removeClass(r.className.globalOpen)}),r.$closeElement.on("click."+r.namespace+" focusout."+r.namespace,function(e){o.removeClass(r.className.globalOpen),r.$openElement.focus(),"click"===e.type&&e.preventDefault()}),r.$depthText.on("focusin."+r.namespace,function(e){r.isPressTabKey&&r.openMenu.call(this,e)}).on("focusout."+r.namespace,function(e){r.isPressTabKey&&r.setSpy(this)}),t.on("keydown."+r.namespace,function(e){9===(e.keyCode||e.which)&&(r.isPressTabKey=!0),r.keydownTimer&&(clearTimeout(r.keydownTimer),r.keydownTimer=0),r.keydownTimer=setTimeout(function(){r.isPressTabKey=!1},r.interval)}),a.push({element:u,option:r}),r.setSpy()}return p}})}(jQuery)}catch(e){console.error(e)}